{% extends "base.html" %}

{% block title %}Detalhes da NCPS{% endblock %}

{% block content %}

{% macro get_label_for_choice_value(choices, value) %}
    {% for choice_value, choice_label in choices %}
        {% if choice_value == value %}
            {{ choice_label }}
        {% endif %}
    {% endfor %}
{% endmacro %}

<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Detalhes da NCPS</h1>
            </div>
        </div>
    </div>
</section>

<section class="content">
    <div class="container-fluid">
        <div class="card card-default">
            <div class="card-header">
                <h3 class="card-title">Informações da NCPS</h3>
            </div>
            <div class="card-body">
                <form>
                    <div class="form-group">
                        <label><strong>ID:</strong> {{ ncp.id }}</label>
                    </div>
                    <div class="form-group">
                        <label><strong>Data e Hora do Registro:</strong> {{ ncp.data_hora_registro }}</label>
                    </div>
                    <div class="form-group">
                        <label><strong>Responsável pela NCPS:</strong> {{ ncp.coordenador.name if ncp.coordenador }}</label>
                    </div>
                    <div class="form-group">
                        <label><strong>Plano de Ação:</strong> {{ get_label_for_choice_value([('0', 'Aguardando análise'), ('1', 'Ações estruturais'), ('2', 'Ações construtivas'), ('3', 'Ações educacionais'), ('4', 'Ações disciplinares'), ('5', 'Ações administrativas')], ncp.acao) }}</label>
                    </div>
                    <div class="form-group">
                        <label><strong>Status do Processo:</strong> {{ get_label_for_choice_value([('0', 'Aguardando análise'), ('1', 'Analisando'), ('2', 'Concluído Análise'), ('3', 'Arquivado'), ('4', 'Encaminhado ao gestor competente de outra instituição')], ncp.status) }}</label>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <a href="{{ url_for('ncps.search_ncps') }}" class="btn btn-secondary col-md-3">Voltar</a>
                        </div>
                    </div>

                </form>
            </div>
            <div class="card-footer">
            </div>
        </div>
    </div>
</section>

{% endblock %}
